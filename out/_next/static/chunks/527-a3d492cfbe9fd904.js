"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[527],{813:function(e,t,s){s.d(t,{Z:function(){return i}});var r=s(7437),a=s(6362),n=s(2265);function l(){let[e,t]=(0,n.useState)(""),[s,l]=(0,n.useState)(""),[i,c]=(0,n.useState)(!1),[o,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(""),{signIn:x,signUp:h}=(0,a.a)(),g=async t=>{t.preventDefault(),m(""),d(!0);try{i?await h(e,s):await x(e,s)}catch(e){console.error("Authentication error:",e),m(e.message)}finally{d(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 px-4",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"flex items-center justify-center mb-6",children:(0,r.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-xl flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-8 h-8 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-mic-line text-white text-2xl"})})})}),(0,r.jsx)("div",{className:"text-4xl font-bold text-blue-500 mb-2",children:"ShowAI"}),(0,r.jsx)("h2",{className:"text-3xl font-bold text-white",children:i?"Create Account":"Welcome Back"}),(0,r.jsx)("p",{className:"mt-2 text-gray-400",children:i?"Join ShowAI to get started":"Sign in to your account"})]}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:g,children:[u&&(0,r.jsx)("div",{className:"bg-red-900/50 border border-red-500 text-red-300 px-4 py-3 rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-error-warning-line"})}),(0,r.jsx)("span",{className:"text-sm",children:u})]})}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"email",required:!0,value:e,onChange:e=>t(e.target.value),className:"w-full px-4 py-3 border border-gray-700 rounded-lg bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Email address",disabled:o})}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"password",required:!0,value:s,onChange:e=>l(e.target.value),className:"w-full px-4 py-3 border border-gray-700 rounded-lg bg-gray-800 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Password",disabled:o,minLength:6})})]}),(0,r.jsx)("button",{type:"submit",disabled:o,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 text-white font-medium rounded-lg transition-colors whitespace-nowrap cursor-pointer",children:o?(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,r.jsx)("span",{children:"Processing..."})]}):i?"Create Account":"Sign In"}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("button",{type:"button",onClick:()=>{c(!i),m("")},className:"text-blue-400 hover:text-blue-300 cursor-pointer",disabled:o,children:i?"Already have an account? Sign in":"Don't have an account? Sign up"})})]}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"By signing in, you agree to our terms of service and privacy policy."})})]})})}function i(e){let{children:t}=e,{user:s,loading:n}=(0,a.a)();return n?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}):s?(0,r.jsx)(r.Fragment,{children:t}):(0,r.jsx)(l,{})}},4196:function(e,t,s){s.d(t,{Z:function(){return d}});var r=s(7437),a=s(2265),n=s(5978),l=s(7293),i=s(6362),c=s(1904),o=s(3486);function d(){let[e,t]=(0,a.useState)([]),[s,d]=(0,a.useState)(!1),{user:u}=(0,i.a)(),{isEnabled:m}=(0,c.Ek)("smartAlerts");(0,a.useEffect)(()=>{if(!u||!m){t([]);return}console.log("\uD83D\uDD14 Loading smart alerts for user:",u.uid);let e=(0,n.IO)((0,n.hJ)(l.db,"alerts"),(0,n.ar)("userId","==",u.uid));return(0,n.cf)(e,e=>{let s=e.docs.map(e=>({id:e.id,...e.data()}));t(s.sort((e,t)=>{var s,r;return e.read!==t.read?e.read?1:-1:e.matchScore!==t.matchScore?t.matchScore-e.matchScore:(null===(s=t.timestamp)||void 0===s?void 0:s.seconds)-(null===(r=e.timestamp)||void 0===r?void 0:r.seconds)})),console.log("\uD83D\uDD14 Loaded ".concat(s.length," smart alerts (").concat(s.filter(e=>!e.read).length," unread)"))},e=>{console.error("❌ Error loading smart alerts:",e)})},[u,m]);let x=async e=>{try{let t=(0,n.JU)(l.db,"alerts",e);await (0,n.r7)(t,{read:!0,readAt:new Date}),console.log("✅ Alert marked as read:",e)}catch(e){console.error("❌ Error marking alert as read:",e)}},h=e.filter(e=>!e.read).length;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("header",{className:"bg-gray-800 border-b border-gray-700 p-4",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white font-bold font-['Pacifico'] text-sm",children:"S"})}),(0,r.jsx)("span",{className:"text-white font-bold font-['Pacifico'] text-xl",children:"ShowAI"})]}),m&&(0,r.jsxs)("button",{onClick:()=>d(!0),className:"relative p-2 text-gray-400 hover:text-white transition-colors cursor-pointer",children:[(0,r.jsx)("div",{className:"w-6 h-6 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-notification-line text-xl"})}),h>0&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1",children:h>99?"99+":h})]})]})}),s&&(0,r.jsx)(o.Z,{alerts:e,onClose:()=>d(!1),onMarkAsRead:x})]})}},1344:function(e,t,s){s.d(t,{Z:function(){return l}});var r=s(7437),a=s(7648),n=s(9376);function l(){let e=(0,n.usePathname)(),t=[{name:"Record",href:"/",icon:"ri-mic-line"},{name:"Properties",href:"/properties",icon:"ri-home-line"},{name:"Clients",href:"/clients",icon:"ri-user-line"},{name:"Dashboard",href:"/dashboard",icon:"ri-dashboard-line"},{name:"Settings",href:"/settings",icon:"ri-settings-line"}],s=7===t.length?"grid-cols-7":"grid-cols-5";return(0,r.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-gray-800 border-t border-gray-700 z-50",children:(0,r.jsx)("div",{className:"max-w-md mx-auto",children:(0,r.jsx)("div",{className:"grid ".concat(s," min-h-[60px]"),children:t.map(t=>{let s=e===t.href;return(0,r.jsxs)(a.default,{href:t.href,className:"flex flex-col items-center justify-center py-2 px-1 transition-colors cursor-pointer min-h-[60px] ".concat(s?"text-blue-400":"text-gray-400 hover:text-white"),children:[(0,r.jsx)("div",{className:"w-5 h-5 flex items-center justify-center mb-1",children:(0,r.jsx)("i",{className:"".concat(t.icon," text-lg")})}),(0,r.jsx)("span",{className:"text-xs leading-tight text-center whitespace-nowrap overflow-hidden text-ellipsis max-w-full",children:t.name})]},t.name)})})})})}},3486:function(e,t,s){s.d(t,{Z:function(){return i}});var r=s(7437),a=s(2265),n=s(5978),l=s(7293);function i(e){let{alerts:t,onClose:s,onMarkAsRead:i}=e,[c,o]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,x]=(0,a.useState)(!0);(0,a.useEffect)(()=>{if(0===t.length){x(!1);return}(async()=>{try{let e=[...new Set(t.map(e=>e.propertyId))],s=[...new Set(t.map(e=>e.clientId))],r=e.map(async e=>{try{let t=(0,n.JU)(l.db,"properties",e),s=await (0,n.QT)(t);if(s.exists())return{id:s.id,...s.data()};return null}catch(t){return console.error("❌ Error loading property ".concat(e,":"),t),null}}),a=s.map(async e=>{try{let t=(0,n.JU)(l.db,"clients",e),s=await (0,n.QT)(t);if(s.exists())return{id:s.id,...s.data()};return null}catch(t){return console.error("❌ Error loading client ".concat(e,":"),t),null}}),[i,c]=await Promise.all([Promise.all(r),Promise.all(a)]),d=i.filter(e=>null!==e),m=c.filter(e=>null!==e);o(d),u(m),console.log("✅ Loaded ".concat(d.length," properties and ").concat(m.length," clients for alerts"))}catch(e){console.error("❌ Error loading alert data:",e)}finally{x(!1)}})()},[t]);let h=e=>{if(!e)return"Unknown";try{return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(e){return"Invalid date"}},g=e=>e>=90?"text-red-400 bg-red-900/30":e>=75?"text-orange-400 bg-orange-900/30":e>=60?"text-yellow-400 bg-yellow-900/30":"text-green-400 bg-green-900/30",f=e=>c.find(t=>t.id===e),p=e=>d.find(t=>t.id===e),b=e=>{e.read||i(e.id)};return m?(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,r.jsx)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),(0,r.jsx)("span",{className:"text-white",children:"Loading alerts..."})]})})}):(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg w-full max-w-md max-h-[80vh] border border-gray-700 overflow-hidden",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-6 h-6 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-notification-line text-blue-500 text-xl"})}),(0,r.jsx)("h2",{className:"text-lg font-semibold text-white",children:"Smart Alerts"})]}),(0,r.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors cursor-pointer",children:(0,r.jsx)("div",{className:"w-6 h-6 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-close-line text-xl"})})})]}),(0,r.jsx)("div",{className:"overflow-y-auto max-h-96",children:0===t.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-notification-off-line text-4xl text-gray-600"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-400 mb-2",children:"No alerts yet"}),(0,r.jsx)("p",{className:"text-gray-500",children:"Smart property matches will appear here"})]}):(0,r.jsx)("div",{className:"divide-y divide-gray-700",children:t.map(e=>{var t;let s=f(e.propertyId),a=p(e.clientId);return(0,r.jsxs)("div",{onClick:()=>b(e),className:"p-4 cursor-pointer hover:bg-gray-700/50 transition-colors ".concat(e.read?"":"bg-blue-900/10"),children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-blue-600 rounded-full flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-3 h-3 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-home-heart-line text-white text-xs"})})}),(0,r.jsx)("span",{className:"font-medium text-white text-sm",children:"Property Match"}),!e.read&&(0,r.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),(0,r.jsxs)("div",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(g(e.matchScore)),children:[e.matchScore,"% match"]})]}),a?(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-user-line text-green-500"})}),(0,r.jsx)("span",{className:"text-green-300 text-sm font-medium",children:a.name})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-user-line text-gray-500"})}),(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"Unknown client"})]}),s?(0,r.jsxs)("div",{className:"space-y-1 mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-home-line text-blue-400"})}),(0,r.jsx)("span",{className:"text-gray-300 text-sm",children:s.address})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-400 ml-5",children:[(0,r.jsxs)("span",{children:["$",(null===(t=s.price)||void 0===t?void 0:t.toLocaleString())||"N/A"]}),(0,r.jsxs)("span",{children:[s.bedrooms||0," bed"]}),(0,r.jsxs)("span",{children:[s.bathrooms||0," bath"]}),(0,r.jsx)("span",{children:s.propertyType||"N/A"})]})]}):(0,r.jsx)("div",{className:"space-y-1 mb-3",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-home-line text-gray-500"})}),(0,r.jsx)("span",{className:"text-gray-400 text-sm",children:"Property information unavailable"})]})}),e.matchReasons&&e.matchReasons.length>0&&(0,r.jsx)("div",{className:"mb-2",children:(0,r.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.matchReasons.slice(0,3).map((e,t)=>(0,r.jsxs)("span",{className:"px-2 py-1 bg-purple-900/30 text-purple-300 rounded-full text-xs",children:["✓ ",e]},t)),e.matchReasons.length>3&&(0,r.jsxs)("span",{className:"px-2 py-1 bg-gray-700 text-gray-400 rounded-full text-xs",children:["+",e.matchReasons.length-3]})]})}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[(0,r.jsx)("span",{children:h(e.timestamp)}),(0,r.jsx)("div",{className:"w-3 h-3 flex items-center justify-center",children:(0,r.jsx)("i",{className:"ri-arrow-right-s-line"})})]})]},e.id)})})}),(0,r.jsx)("div",{className:"p-4 border-t border-gray-700",children:(0,r.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,r.jsxs)("span",{className:"text-gray-400",children:[t.filter(e=>!e.read).length," unread alert",1!==t.filter(e=>!e.read).length?"s":""]}),(0,r.jsx)("button",{onClick:s,className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors cursor-pointer whitespace-nowrap",children:"Close"})]})})]})})}},6362:function(e,t,s){s.d(t,{a:function(){return l}});var r=s(2265),a=s(3301),n=s(7293);let l=()=>{let[e,t]=(0,r.useState)(null),[s,l]=(0,r.useState)(!0);return(0,r.useEffect)(()=>(0,a.Aj)(n.I8,e=>{console.log("AUTH STATE CHANGED:",e?"User logged in: ".concat(e.email):"User logged out"),t(e),l(!1)}),[]),{user:e,loading:s,signIn:async(e,t)=>{try{let s=await (0,a.e5)(n.I8,e,t);return console.log("SIGN IN SUCCESS:",s.user.email),s}catch(e){throw console.error("SIGN IN ERROR:",e),e}},signUp:async(e,t)=>{try{let s=await (0,a.Xb)(n.I8,e,t);return console.log("SIGN UP SUCCESS:",s.user.email),s}catch(e){throw console.error("SIGN UP ERROR:",e),e}},logout:async()=>{try{await (0,a.w7)(n.I8),console.log("LOGOUT SUCCESS: User signed out")}catch(e){throw console.error("LOGOUT ERROR:",e),e}}}}},1904:function(e,t,s){s.d(t,{Ek:function(){return o},gV:function(){return i}});var r=s(5978),a=s(7293),n=s(2265);let l={autoTranscription:!0,sentimentAnalysis:!0,speakerSeparation:!0,buyerPersonaGeneration:!0,aiFollowUps:!0,smartAlerts:!0,scheduledDelivery:!0,voiceSummaries:!1,sessionEngagementReports:!0,productivityDashboard:!0,clientObjectionsReport:!0,advancedAnalytics:!0,emailIntegration:!1,crmSyncing:!1,agentLeaderboards:!1,clientIntakeForms:!1,aiSmartSummaryPanel:!1,mobileOptimization:!0,abTestingFramework:!1,testRecordingSimulator:!1,adminAuditTools:!1,debugMode:!1,qaUtilities:!1,enhancedErrorLogging:!0,performanceMonitoring:!0,userFeedbackCollection:!0,automaticQualityChecks:!0};function i(){let[e,t]=(0,n.useState)(l),[s,i]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{console.log("\uD83D\uDEA9 Initializing Feature Flags system...");let e=(0,r.JU)(a.db,"appConfig","featureFlags");return(0,r.cf)(e,s=>{if(s.exists()){let e=s.data(),r={...l,...e};console.log("\uD83D\uDEA9 Feature Flags loaded from Firestore:",{enabled:Object.entries(r).filter(e=>{let[t,s]=e;return s}).length,total:Object.keys(r).length,betaFeatures:Object.entries(r).filter(e=>{let[t,s]=e;return s&&c(t)}).map(e=>{let[t]=e;return t})}),t(r)}else console.log("\uD83D\uDEA9 No feature flags found, creating defaults..."),(0,r.pl)(e,l).catch(console.error),t(l);i(!1)},e=>{console.error("❌ Error loading feature flags:",e),t(l),i(!1)})},[]),{flags:e,loading:s,updateFlag:async(e,t)=>{try{console.log("\uD83D\uDEA9 Updating feature flag: ".concat(e," = ").concat(t));let s=(0,r.JU)(a.db,"appConfig","featureFlags"),n=await (0,r.QT)(s),i={...n.exists()?n.data():l,[e]:t};await (0,r.pl)(s,i),console.log("✅ Feature flag updated: ".concat(e," = ").concat(t))}catch(t){throw console.error("❌ Error updating feature flag ".concat(e,":"),t),t}},isFeatureEnabled:t=>e[t],getEnabledFeatures:()=>Object.entries(e).filter(e=>{let[t,s]=e;return s}).map(e=>{let[t]=e;return t}),getBetaFeatures:()=>Object.entries(e).filter(e=>{let[t,s]=e;return s&&c(t)}).map(e=>{let[t]=e;return t})}}let c=e=>["voiceSummaries","emailIntegration","crmSyncing","agentLeaderboards","clientIntakeForms","aiSmartSummaryPanel","abTestingFramework"].includes(e);function o(e){let{isFeatureEnabled:t,loading:s}=i();return{isEnabled:t(e),loading:s,FeatureGate:r=>{let{children:a,fallback:n=null}=r;return s?n:t(e)?a:n}}}},7293:function(e,t,s){s.d(t,{I8:function(){return d},db:function(){return u},tO:function(){return m}});var r=s(738),a=s(3301),n=s(5978),l=s(62),i=s(6834),c=s(257);let o=(0,r.ZF)({apiKey:"AIzaSyB8Uq7C69k1xuueZqiMCB-Kx1TX4fQb0NQ",authDomain:"showai-23713.firebaseapp.com",projectId:"showai-23713",storageBucket:"showai-23713.firebasestorage.app",messagingSenderId:"72019299027",appId:"1:72019299027:web:acc6eccd67a7ee1a43e226",measurementId:"G-H8FTYFLJ4L"}),d=(0,a.v0)(o),u=(0,n.ad)(o),m=(0,l.cF)(o);(0,i.IH)(o);{let e="true"===c.env.NEXT_PUBLIC_USE_FIREBASE_EMULATORS;console.log("\uD83D\uDD25 Firebase Environment Setup:"),console.log("- Development mode:",!1),console.log("- Use emulators:",e),console.log("- Current origin:",window.location.origin),console.log("☁️ Using Production Firebase Services"),console.log("\uD83D\uDCC2 Storage uploads will use: https://firebasestorage.googleapis.com")}}}]);