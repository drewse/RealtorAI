(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[825],{3985:function(e,t,s){Promise.resolve().then(s.bind(s,5569))},5569:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var n=s(7437),a=s(2265),r=s(5978),i=s(62),o=s(7293),l=s(6362),c=s(1904),d=s(4432),u=s(813),h=s(4196),m=s(1344);let g=[{id:"enthusiastic-buyer",name:"Enthusiastic First-Time Buyer",description:"Young couple, very excited, asking lots of questions, budget concerns",tags:["first-time-buyer","young-couple","budget-conscious","enthusiastic"],expectedOutcome:"High engagement, positive sentiment, budget-related objections",clientName:"Sarah & Mike Johnson",propertyContext:{address:"123 Oak Street, Downtown",propertyType:"Condo",price:35e4,bedrooms:2,bathrooms:2,sqft:1200,propertyFeatures:["granite counters","in-unit laundry","balcony"]}},{id:"cautious-investor",name:"Cautious Real Estate Investor",description:"Experienced investor, analytical approach, focused on ROI",tags:["investor","analytical","experienced","roi-focused"],expectedOutcome:"Neutral sentiment, business-focused questions, cash flow concerns",clientName:"Robert Chen",propertyContext:{address:"456 Maple Avenue, Suburbs",propertyType:"Single Family",price:525e3,bedrooms:3,bathrooms:2,sqft:1800,propertyFeatures:["rental potential","good schools","mature neighborhood"]}},{id:"downsizing-retirees",name:"Downsizing Retirees",description:"Older couple looking to downsize, concerned about accessibility",tags:["downsizing","retirees","accessibility","low-maintenance"],expectedOutcome:"Moderate engagement, practical concerns, accessibility questions",clientName:"Frank & Helen Williams",propertyContext:{address:"789 Pine Court, Senior Community",propertyType:"Townhouse",price:425e3,bedrooms:2,bathrooms:2,sqft:1400,propertyFeatures:["single-level living","low maintenance","community amenities"]}}];function p(){let[e,t]=(0,a.useState)(""),[s,p]=(0,a.useState)(null),[x,y]=(0,a.useState)(!1),[b,f]=(0,a.useState)(null),[w,v]=(0,a.useState)(null),[j,k]=(0,a.useState)([]),{user:N}=(0,l.a)(),{isEnabled:T}=(0,c.Ek)("qaUtilities"),A=e=>{let t=new Date().toLocaleTimeString();k(s=>[...s,"[".concat(t,"] ").concat(e)]),console.log("\uD83E\uDDEA QA: ".concat(e))},S=async e=>{if(N){y(!0),p(null),k([]),t(e.id);try{A("Starting test scenario: ".concat(e.name)),A("Expected: ".concat(e.expectedOutcome));let t=I(e);A("Generated mock transcript (".concat(t.length," characters)")),A("Testing AI follow-up generation...");let s=await E(t,e);A("Testing buyer persona generation...");let n=await D(t,e);A("Testing session analytics...");let a=await C(t,e),i={scenario:e.name,timestamp:new Date().toISOString(),tests:{followUp:s,persona:n,analytics:a},mockTranscript:t,passed:s.success&&n.success&&a.success};p(i),A("Test scenario completed. Status: ".concat(i.passed?"PASSED":"FAILED")),await (0,r.ET)((0,r.hJ)(o.db,"qa-test-results"),{...i,userId:N.uid,userEmail:N.email,createdAt:(0,r.Bt)()}),A("Test results saved to database")}catch(e){A("Test failed with error: ".concat(e instanceof Error?e.message:"Unknown error")),console.error("❌ QA Test Error:",e)}finally{y(!1)}}},E=async(e,t)=>{try{var s,n,a;let e=Date.now(),r=new Blob(["mock audio data"],{type:"audio/wav"}),l=new File([r],"test-audio.wav",{type:"audio/wav"}),c=(0,i.iH)(o.tO,"qa-tests/".concat(N.uid,"/test-").concat(Date.now(),".wav"));await (0,i.KV)(c,l);let u=await (0,i.Jt)(c),h=await (0,d.kN)(u,t.tags,"qa-test-".concat(Date.now()),t.clientName,t.propertyContext,{followUpTone:"professional",speakerSeparation:!0,sentimentAnalysis:!0,keywordExtraction:!0,generatePersona:!0,generateVoiceSummary:!1}),m=Date.now()-e;return{success:!!((null===(s=h.followUp)||void 0===s?void 0:s.sms)&&(null===(n=h.followUp)||void 0===n?void 0:n.email)),duration:m,hasPersona:!!h.buyerPersona,hasSentiment:!!h.overallSentiment,hasSegments:(null===(a=h.transcriptSegments)||void 0===a?void 0:a.length)>0,result:h.followUp}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error",duration:0}}},D=async(e,t)=>{try{let s=Date.now(),n=await (0,d.s_)(e,t.tags,t.clientName,t.propertyContext,"qa-test-".concat(Date.now())),a=Date.now()-s;return{success:!!(n&&n.buyerType&&n.keyMotivations),duration:a,buyerType:null==n?void 0:n.buyerType,confidenceScore:null==n?void 0:n.confidenceScore,result:n}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error",duration:0}}},C=async(e,t)=>{try{let e=Date.now(),s={sentimentBreakdown:{positive:5,neutral:3,negative:1},engagementRating:"high",keywordsDetected:t.tags,questionsAsked:["What about the neighborhood?","How much are the HOA fees?"],actionItems:["Send neighborhood information","Calculate HOA costs"],analysisScore:85},n=Date.now()-e;return{success:!0,duration:n,engagementRating:s.engagementRating,analysisScore:s.analysisScore,result:s}}catch(e){return{success:!1,error:e instanceof Error?e.message:"Unknown error",duration:0}}},I=e=>{let t={"enthusiastic-buyer":"\nAgent: Welcome to 123 Oak Street! This is a beautiful 2-bedroom, 2-bathroom condo in the heart of downtown.\n\nSarah: Oh wow, this is gorgeous! Mike, look at those granite counters!\n\nMike: This is exactly what we were looking for. The kitchen is perfect for cooking together.\n\nAgent: I'm glad you like it! The granite countertops were just installed last year, and as you can see, there's plenty of storage space.\n\nSarah: What about the monthly HOA fees? We're first-time buyers, so we want to make sure we can afford everything.\n\nAgent: The HOA is $250 per month, which covers water, sewer, trash, and building maintenance.\n\nMike: That seems reasonable. What about parking?\n\nAgent: Each unit comes with one assigned parking space in the underground garage, and there's guest parking available too.\n\nSarah: I love the balcony! Can you imagine having coffee out there in the mornings?\n\nAgent: It's a great feature, especially with this view of the city. The unit also has in-unit laundry, which is convenient.\n\nMike: What's the timeline like if we wanted to make an offer?\n\nAgent: In this market, properties are moving quickly. If you're interested, I'd recommend making a decision within the next day or two.\n\nSarah: We're definitely interested, but we need to talk about the numbers. This is right at the top of our budget.\n      ","cautious-investor":"\nAgent: Good morning, Mr. Chen. This property has excellent rental potential given its location near the university.\n\nRobert: I've reviewed the comps in the area. What's the current rental market like for properties of this size?\n\nAgent: Similar 3-bedroom homes are renting for $2,800 to $3,200 per month. The schools are highly rated, which attracts families.\n\nRobert: What about vacancy rates in this neighborhood?\n\nAgent: Very low, typically under 5%. The area has been consistently strong for rentals.\n\nRobert: I see the property was built in 1995. What major systems have been updated?\n\nAgent: The HVAC system was replaced 3 years ago, and the roof is only 5 years old. The owner has been very proactive with maintenance.\n\nRobert: What are the annual property taxes and insurance costs?\n\nAgent: Property taxes are approximately $8,400 annually, and insurance typically runs $1,200-1,500 for this type of property.\n\nRobert: I'll need to run my cash flow analysis. What's your asking price flexibility?\n\nAgent: The sellers are motivated but want to see a serious offer. There's some room for negotiation, especially with a quick close.\n\nRobert: I'll get back to you within 48 hours after I complete my due diligence.\n      ","downsizing-retirees":"\nAgent: Frank and Helen, welcome! This townhouse was designed specifically with low-maintenance living in mind.\n\nHelen: Oh, this is nice. Everything is on one level?\n\nAgent: The main living areas are all on this floor - kitchen, living room, master bedroom, and full bath. There's a loft upstairs that could be used for storage or a guest room.\n\nFrank: What about stairs? Helen has some mobility concerns.\n\nAgent: The main level has no stairs at all. The entrance has just two small steps, and there's a ramp option available.\n\nHelen: I like that the laundry room is right off the kitchen. No more going to the basement!\n\nAgent: Exactly! And the community takes care of all exterior maintenance - landscaping, snow removal, exterior painting.\n\nFrank: What are the monthly community fees?\n\nAgent: $320 per month, which covers all exterior maintenance, landscaping, snow removal, and access to the community center.\n\nHelen: Is there a community center?\n\nAgent: Yes, with a fitness room, library, and social areas. There are regular activities and events.\n\nFrank: We're looking to simplify our lives. This seems like it could work well for us.\n\nHelen: I'd like to see the master bathroom. Are there grab bars?\n\nAgent: There are grab bars in the shower, and the bathroom has a walk-in shower with no threshold - very safe and accessible.\n      "};return t[e.id]||t["enthusiastic-buyer"]},O=async()=>{if(w&&N){y(!0),A("Uploading custom audio file...");try{let e=(0,i.iH)(o.tO,"qa-tests/".concat(N.uid,"/custom-").concat(Date.now(),".wav"));await (0,i.KV)(e,w);let t=await (0,i.Jt)(e);A("Running full AI analysis on uploaded audio...");let s=await (0,d.kN)(t,["custom-test"],"qa-custom-".concat(Date.now()),"Test Client",void 0,{followUpTone:"professional",speakerSeparation:!0,sentimentAnalysis:!0,keywordExtraction:!0,generatePersona:!0,generateVoiceSummary:!1});p({scenario:"Custom Audio Test",timestamp:new Date().toISOString(),customAudio:!0,tests:{fullAnalysis:{success:!!s.followUp,transcript:s.transcript,followUp:s.followUp,persona:s.buyerPersona,sentiment:s.overallSentiment,segments:s.transcriptSegments}},passed:!!s.followUp}),A("Custom audio analysis completed successfully")}catch(e){A("Custom audio test failed: ".concat(e instanceof Error?e.message:"Unknown error"))}finally{y(!1)}}};return T?(0,n.jsx)(u.Z,{children:(0,n.jsxs)("div",{className:"min-h-screen bg-gray-900 pb-20",children:[(0,n.jsx)(h.Z,{}),(0,n.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,n.jsx)("div",{className:"w-6 h-6 flex items-center justify-center",children:(0,n.jsx)("i",{className:"ri-tools-line text-blue-500 text-xl"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-white",children:"QA Testing Tools"}),(0,n.jsx)("span",{className:"px-2 py-1 bg-blue-900/30 text-blue-300 rounded-full text-xs",children:"Development Only"})]}),(0,n.jsx)("p",{className:"text-gray-400",children:"Test AI features, simulate recordings, and validate system responses"})]}),(0,n.jsxs)("div",{className:"grid lg:grid-cols-2 gap-6",children:[(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Predefined Test Scenarios"}),(0,n.jsx)("div",{className:"space-y-3",children:g.map(t=>(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,n.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,n.jsx)("h3",{className:"font-medium text-white",children:t.name}),(0,n.jsx)("button",{onClick:()=>S(t),disabled:x,className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800 text-white rounded text-sm transition-colors cursor-pointer whitespace-nowrap flex items-center space-x-1",children:x&&e===t.id?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b border-white"}),(0,n.jsx)("span",{children:"Testing..."})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-3 h-3 flex items-center justify-center",children:(0,n.jsx)("i",{className:"ri-play-line"})}),(0,n.jsx)("span",{children:"Run Test"})]})})]}),(0,n.jsx)("p",{className:"text-sm text-gray-400 mb-3",children:t.description}),(0,n.jsx)("div",{className:"flex flex-wrap gap-1 mb-2",children:t.tags.map(e=>(0,n.jsx)("span",{className:"px-2 py-1 bg-purple-900/30 text-purple-300 rounded-full text-xs",children:e},e))}),(0,n.jsxs)("div",{className:"text-xs text-gray-500",children:["Expected: ",t.expectedOutcome]})]},t.id))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Custom Audio Test"}),(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Upload Audio File"}),(0,n.jsx)("input",{type:"file",accept:"audio/*",onChange:e=>{var t;return v((null===(t=e.target.files)||void 0===t?void 0:t[0])||null)},className:"block w-full text-sm text-gray-400 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-blue-600 file:text-white hover:file:bg-blue-700 file:cursor-pointer"})]}),(0,n.jsx)("button",{onClick:O,disabled:!w||x,className:"w-full px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-green-800 disabled:opacity-50 text-white rounded-lg transition-colors cursor-pointer whitespace-nowrap",children:x?"Processing...":"Test with Custom Audio"})]})]})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[s&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Test Results"}),(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-4 border border-gray-700",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"font-medium text-white",children:s.scenario}),(0,n.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(s.passed?"bg-green-900/30 text-green-300":"bg-red-900/30 text-red-300"),children:s.passed?"PASSED":"FAILED"})]}),(0,n.jsx)("div",{className:"space-y-3 text-sm",children:Object.entries(s.tests).map(e=>{let[t,s]=e;return(0,n.jsxs)("div",{className:"bg-gray-900 rounded p-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,n.jsx)("span",{className:"font-medium text-white capitalize",children:t.replace(/([A-Z])/g," $1").trim()}),(0,n.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat(s.success?"bg-green-900/30 text-green-300":"bg-red-900/30 text-red-300"),children:s.success?"Pass":"Fail"})]}),s.duration&&(0,n.jsxs)("div",{className:"text-gray-400",children:["Duration: ",s.duration,"ms"]}),s.error&&(0,n.jsxs)("div",{className:"text-red-400",children:["Error: ",s.error]})]},t)})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Test Logs"}),(0,n.jsx)("div",{className:"bg-gray-900 rounded-lg p-4 border border-gray-700",children:0===j.length?(0,n.jsx)("p",{className:"text-gray-500 italic",children:"No test logs yet. Run a test to see logs here."}):(0,n.jsx)("div",{className:"space-y-1 font-mono text-xs max-h-64 overflow-y-auto",children:j.map((e,t)=>(0,n.jsx)("div",{className:"text-gray-300",children:e},t))})})]})]})]})]}),(0,n.jsx)(m.Z,{})]})}):(0,n.jsx)(u.Z,{children:(0,n.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 flex items-center justify-center",children:(0,n.jsx)("i",{className:"ri-tools-line text-4xl text-gray-500"})}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"QA Tools Disabled"}),(0,n.jsx)("p",{className:"text-gray-400",children:"QA utilities are not enabled in the current configuration."})]})})})}}},function(e){e.O(0,[358,139,826,527,432,971,117,744],function(){return e(e.s=3985)}),_N_E=e.O()}]);